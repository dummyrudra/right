<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
    <div class="container-fluid px-5">
        <nz-result *ngIf="!sprint" nzStatus="500" nzTitle="500" nzSubTitle="Sorry, there is an error on server.">
            <div nz-result-extra>

            </div>
        </nz-result>
        <div class="card px-0" *ngIf="sprint">
            <div class="card-header border-0 pt-4 pb-0 px-6 mb-2 bg-white w-100 left-0">
                <div class="d-sm-flex align-items-center flex-wrap w-100 justify-content-between">
                    <h1 class="text-dark mt-1 fs-2 mb-4 me-5">
                        Backlog
                    </h1>
                    <div class="d-flex align-items-center mb-4">
                        <div data-kt-search-element="wrapper" class="w-100">
                            <!-- form -->
                            <div data-kt-search-element="form"
                                class="d-flex flex-wrap align-items-center w-100 mb-5 mb-sm-0 justify-content-sm-end"
                                autocomplete="off">
                                <!-- search -->
                                <div class="search-custom  position-relative">
                                    <!--begin::Hidden input(Added to disable form autocomplete)-->
                                    <input type="hidden">
                                    <!--end::Hidden input-->
                                    <!--begin::Icon-->
                                    <!--begin::Svg Icon | path: icons/duotune/general/gen004.svg-->
                                    <span
                                        class="svg-icon svg-icon-2 svg-icon-gray-700 position-absolute top-50 translate-middle-y ms-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path
                                                d="M21.7 18.9L18.6 15.8C17.9 16.9 16.9 17.9 15.8 18.6L18.9 21.7C19.3 22.1 19.9 22.1 20.3 21.7L21.7 20.3C22.1 19.9 22.1 19.3 21.7 18.9Z"
                                                fill="black"></path>
                                            <path opacity="0.3"
                                                d="M11 20C6 20 2 16 2 11C2 6 6 2 11 2C16 2 20 6 20 11C20 16 16 20 11 20ZM11 4C7.1 4 4 7.1 4 11C4 14.9 7.1 18 11 18C14.9 18 18 14.9 18 11C18 7.1 14.9 4 11 4ZM8 11C8 9.3 9.3 8 11 8C11.6 8 12 7.6 12 7C12 6.4 11.6 6 11 6C8.2 6 6 8.2 6 11C6 11.6 6.4 12 7 12C7.6 12 8 11.6 8 11Z"
                                                fill="black"></path>
                                        </svg>
                                    </span>
                                    <!--end::Svg Icon-->
                                    <!--end::Icon-->
                                    <!--begin::Input-->
                                    <input type="text"
                                        class="form-control w-200px form-control-solid ps-11 fs-7 form-control-lg"
                                        name="search" value="" placeholder="Search" data-kt-search-element="input"
                                        (keyup)="search($event)">
                                    <!--end::Input-->
                                    <!--begin::Spinner-->
                                    <span class="position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-5"
                                        data-kt-search-element="spinner">
                                        <span class="spinner-border h-15px w-15px align-middle text-gray-400"></span>
                                    </span>
                                    <!--end::Spinner-->
                                    <!--begin::Reset-->
                                    <span
                                        class="btn btn-flush btn-active-color-primary position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-4"
                                        data-kt-search-element="clear">
                                        <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                                        <span class="svg-icon svg-icon-2 svg-icon-lg-1 me-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
                                                    transform="rotate(-45 6 17.3137)" fill="black">
                                                </rect>
                                                <rect x="7.41422" y="6" width="16" height="2" rx="1"
                                                    transform="rotate(45 7.41422 6)" fill="black"></rect>
                                            </svg>
                                        </span>
                                        <!--end::Svg Icon-->
                                    </span>
                                    <!--end::Reset-->
                                </div>
                                <!-- search ends -->
                                <!-- epic dropdown -->
                                <div class="epic-custom ms-sm-4 me-2">
                                    <div class="form-group m-0">
                                        <div class="row">
                                            <div class="col">
                                                <div ngbDropdown class="d-inline-block">
                                                    <button class="btn btn-md btn-light fs-7 px-4 py-3 text-left"
                                                        id="dropdownBasic1" ngbDropdownToggle>Epic
                                                        <small class="pe-3">(Not Implemented)</small>
                                                        <span class="svg-icon svg-icon-dark svg-icon mx-0 float-end">
                                                            <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Navigation/Angle-down.svg-->
                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                                                                height="24px" viewBox="0 0 24 24" version="1.1">
                                                                <g stroke="none" stroke-width="1" fill="none"
                                                                    fill-rule="evenodd">
                                                                    <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                                                    <path
                                                                        d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                                        fill="#000000" fill-rule="nonzero"
                                                                        transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) ">
                                                                    </path>
                                                                </g>
                                                            </svg>
                                                            <!--end::Svg Icon-->
                                                        </span>
                                                    </button>
                                                    <div ngbDropdownMenu aria-labelledby="dropdownBasic1"
                                                        class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px pt-3">
                                                        <div class="menu-item px-2">
                                                            <a class="menu-link px-3"><label class="checkbox ">
                                                                    <input type="checkbox" name="Checkboxes3">
                                                                    <span
                                                                        class="w-15px h-15px mt-1 me-2 rounded-1"></span>Issue
                                                                    without Epic</label></a>
                                                        </div>
                                                        <div class="menu-item px-2">
                                                            <a class="menu-link px-3"><label class="checkbox">
                                                                    <input type="checkbox" name="Checkboxes3">
                                                                    <span
                                                                        class="w-15px h-15px mt-1 me-2 rounded-1"></span>Redesign</label>
                                                            </a>
                                                        </div>
                                                        <div class="menu-item px-2">
                                                            <a class="menu-link px-3"><label class="checkbox">
                                                                    <input type="checkbox" name="Checkboxes3">
                                                                    <span
                                                                        class="w-15px h-15px mt-1 me-2 rounded-1"></span>Banner
                                                                    design</label></a>
                                                        </div>
                                                        <div class="menu-item px-2  mt-3 border-top epic-toggle">
                                                            <mat-slide-toggle class="menu-link pt-7 pb-5 my-3  px-3 "
                                                                [(ngModel)]="isOpenEpicPanel">Epic pannel
                                                            </mat-slide-toggle>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- epic dropdown ends -->
                                <!-- bugs dropdown -->
                                <div class="bugs-custom ms-sm-2 me-sm-4 me-2">
                                    <div class="form-group m-0">
                                        <div class="row">
                                            <div class="col">
                                                <div ngbDropdown class="d-inline-block">
                                                    <button
                                                        class="btn btn-md btn-light text-start  w-125px py-3 fs-7 px-4 btn-arrow-none"
                                                        id="dropdownBasic1" ngbDropdownToggle>{{filter.issueType ||
                                                        'issue type' | titlecase}}
                                                        <span class="svg-icon float-end svg-icon-dark svg-icon mx-0">
                                                            <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Navigation/Angle-down.svg-->
                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                                                                height="24px" viewBox="0 0 24 24" version="1.1">
                                                                <g stroke="none" stroke-width="1" fill="none"
                                                                    fill-rule="evenodd">
                                                                    <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                                                    <path
                                                                        d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                                        fill="#000000" fill-rule="nonzero"
                                                                        transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) ">
                                                                    </path>
                                                                </g>
                                                            </svg>
                                                            <!--end::Svg Icon-->
                                                        </span>
                                                    </button>
                                                    <div ngbDropdownMenu aria-labelledby="dropdownBasic1"
                                                        class="menu menu-sub menu-sub-dropdown menu-column  menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px py-3">
                                                        <div class="menu-item px-2" *ngIf="filter.issueType!=='bug'"
                                                            ngbDropdownItem>
                                                            <a (click)="addFilter('bug')" class="menu-link px-3">Bug</a>
                                                        </div>
                                                        <div class="menu-item px-2" *ngIf="filter.issueType!=='story'"
                                                            ngbDropdownItem>
                                                            <a (click)="addFilter('story')" class="menu-link px-3">Story
                                                            </a>
                                                        </div>
                                                        <div class="menu-item px-2" *ngIf="filter.issueType!=='task'"
                                                            ngbDropdownItem>
                                                            <a (click)="addFilter('task')"
                                                                class="menu-link px-3">Task</a>
                                                        </div>
                                                        <div class="menu-item px-2" *ngIf="filter.issueType!=='epic'"
                                                            ngbDropdownItem>
                                                            <a (click)="addFilter('epic')"
                                                                class="menu-link px-3">Epic</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- bugs dropdown ends -->
                                <div class="d-flex align-items-center py-1">
                                    <!--begin::Button-->
                                    <a (click)="clearFilter()" class="btn fs-7 btn-secondary btn-md">Clear Filter</a>
                                    <!--end::Button-->
                                </div>
                            </div>
                            <!-- form ends -->
                            <!--end::Form-->
                        </div>
                        <!--end::Wrapper-->
                    </div>
                </div>
            </div>
            <!--ends::Header-->
            <div class="separator mt-2"></div>
            <nz-spin nzTip="Loading..." [nzSpinning]="isSpinning">
            </nz-spin>
            <div class="card-body pt-0 pb-0 px-6 " cdkDropListGroup>
                <div class="d-flex flex-wrap mt-5 backlog-sec ">
                    <div class="w-300px epic-sec pr-3  pb-5 max-height-inner-content" *ngIf="isOpenEpicPanel">
                        <div class="p-4 bg-light rounded w-100">
                            <div class="d-flex align-items-center">
                                <h4 class="m-0">Epic </h4>
                                <div class="ms-auto">
                                    <span class="svg-icon svg-icon-dark svg-icon-6x cursor-pointer"
                                        (click)="isOpenEpicPanel=!isOpenEpicPanel">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                            viewBox="0 0 24 24" version="1.1">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <g transform="translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"
                                                    fill="#000000">
                                                    <rect x="0" y="7" width="16" height="2" rx="1" />
                                                    <rect opacity="0.3"
                                                        transform="translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) "
                                                        x="0" y="7" width="16" height="2" rx="1" />
                                                </g>
                                            </g>
                                        </svg></span>
                                </div>
                            </div>
                            <div class="create-issue-sec my-6 ">
                                <a class="w-100 add-input-click fw-bolder">
                                    <span class="svg-icon svg-icon-primary svg-icon-3">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                            viewBox="0 0 24 24" version="1.1">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <rect fill="#000000" x="4" y="11" width="16" height="2" rx="1">
                                                </rect>
                                                <rect fill="#000000" opacity="0.3"
                                                    transform="translate(12.000000, 12.000000) rotate(-270.000000) translate(-12.000000, -12.000000) "
                                                    x="4" y="11" width="16" height="2" rx="1"></rect>
                                            </g>
                                        </svg>
                                        Create issue
                                    </span>
                                </a>
                                <div class="add-input w-100 mt-4">
                                    <input type="text" placeholder="What need to done" aria-label="Username"
                                        aria-describedby="basic-addon1"
                                        class="fs-7 form-control rounded-1 py-2 border-0">
                                </div>
                            </div>
                            <p class="fw-bold fs-6">Issues without epic</p>
                            <div class="accordion" id="epics">
                                <div class="accordion-item epic-issue bg-white mb-3  border-0 rounded cursor-pointer">
                                    <div class="p-3 d-flex align-items-center">
                                        <h6 class="m-0 fw-bold fs-7 text-primary">Redesign full website</h6>
                                        <div class="ms-auto">
                                            <span class="svg-icon svg-icon-primary svg-icon-6x"
                                                data-bs-toggle="collapse" data-bs-target="#epic-1" aria-expanded="true"
                                                aria-controls="epic-1">
                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                    xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                                                    height="24px" viewBox="0 0 24 24" version="1.1">
                                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <polygon points="0 0 24 0 24 24 0 24" />
                                                        <path
                                                            d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                            fill="#000000" fill-rule="nonzero"
                                                            transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) " />
                                                    </g>
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                    <div id="epic-1" class="px-3 accordion-collapse collapse" aria-labelledby="epics-1"
                                        data-bs-parent="#epics">
                                        <div class="issue-detail-epics py-4">
                                            <p>Fix all spacing issue</p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <div class="start-date ">
                                                <h6 class="fw-bold fs-8 m-0">Start Date </h6>
                                                <p class="fs-8">Feb 13 2022</p>
                                            </div>
                                            <div class="due-date ms-auto ">
                                                <h6 class="fw-bold fs-8 m-0"> Due Date </h6>
                                                <p class="fs-8">March 13 2022</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="accordion-item epic-issue bg-white  epic-issue-selected  mb-3  border-0 rounded cursor-pointer">
                                    <div class="p-3 d-flex align-items-center">
                                        <h6 class="m-0 fw-bold fs-7 text-primary">Logo</h6>
                                        <div class="ms-auto">
                                            <span class="svg-icon svg-icon-primary svg-icon-6x"
                                                data-bs-toggle="collapse" data-bs-target="#epic-2" aria-expanded="true"
                                                aria-controls="epic-2">
                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                    xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                                                    height="24px" viewBox="0 0 24 24" version="1.1">
                                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <polygon points="0 0 24 0 24 24 0 24" />
                                                        <path
                                                            d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                            fill="#000000" fill-rule="nonzero"
                                                            transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) " />
                                                    </g>
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                    <div id="epic-2" class="px-3 accordion-collapse collapse" aria-labelledby="epics-2"
                                        data-bs-parent="#epics">
                                        <div class="issue-detail-epics py-4">
                                            <p>No issue</p>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <div class="start-date ">
                                                <h6 class="fw-bold fs-8 m-0">Start Date </h6>
                                                <p class="fs-8">None</p>
                                            </div>
                                            <div class="due-date ms-auto ">
                                                <h6 class="fw-bold fs-8 m-0"> Due Date </h6>
                                                <p class="fs-8">None</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="backlog-content max-height-inner-content" [class.w-100]="!isOpenEpicPanel" cdkScrollable>
                        <!--begin::Accordion-->
                        <div class="p-0" *ngFor="let item of sprint;index as i" #sprint>
                            <div class="accordion accordion-icon-toggle bg-light rounded px-4" id="sprint_{{item._id}}"
                                *ngIf="item.sprintName!='backlog'">
                                <!--begin::Item-->
                                <div class="mb-3">
                                    <!--begin::Header-->
                                    <div class="dragOverr drag-header" cdkDropList
                                        (cdkDropListDropped)="dropOver($event)" id="{{item._id}}">
                                        <div class="accordion-header  d-flex align-items-center">
                                            <div class="d-flex flex-wrap w-100 align-items-center drag-drop-header">
                                                <div class="sprint-action-detail d-flex align-items-center 1"
                                                    data-bs-toggle="collapse"
                                                    [attr.data-bs-target]="'#sprint_item_' + item._id">
                                                    <div class="d-flex align-items-md-center py-3">
                                                        <span class="accordionicon">
                                                            <span class="svg-icon svg-icon-5 svg-icon-dark">
                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                    width="24px" height="24px" viewBox="0 0 24 24"
                                                                    version="1.1">
                                                                    <g stroke="none" stroke-width="1" fill="none"
                                                                        fill-rule="evenodd">
                                                                        <polygon points="0 0 24 0 24 24 0 24" />
                                                                        <path
                                                                            d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                                            fill="#000000" fill-rule="nonzero"
                                                                            transform="translate(12.000003, 11.999999) scale(-1, 1) rotate(-270.000000) translate(-12.000003, -11.999999) " />
                                                                    </g>
                                                                </svg>
                                                                <!--end::Svg Icon-->
                                                            </span>
                                                        </span>
                                                        <div class="d-flex align-items-center flex-wrap">
                                                            <h3 class="fs-6 fw-bold mb-0 ms-2 text-truncate mw-350px">
                                                                <span>{{project.key}}
                                                                    {{item?.sprintName}}</span>
                                                            </h3>
                                                            <div class="d-flex align-items-center">
                                                                <div class="badge badge-light-primary border-0 ms-4"
                                                                    data-bs-toggle="modal" data-bs-target="#kt_modal_1"
                                                                    *ngIf="!item.startDate"
                                                                    (click)="openSprintModel(item)">
                                                                    <span class="svg-icon svg-icon-primary svg-icon-6">
                                                                        <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Design/Edit.svg-->
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                            width="24px" height="24px"
                                                                            viewBox="0 0 24 24" version="1.1">
                                                                            <g stroke="none" stroke-width="1"
                                                                                fill="none" fill-rule="evenodd">
                                                                                <rect x="0" y="0" width="24"
                                                                                    height="24" />
                                                                                <path
                                                                                    d="M8,17.9148182 L8,5.96685884 C8,5.56391781 8.16211443,5.17792052 8.44982609,4.89581508 L10.965708,2.42895648 C11.5426798,1.86322723 12.4640974,1.85620921 13.0496196,2.41308426 L15.5337377,4.77566479 C15.8314604,5.0588212 16,5.45170806 16,5.86258077 L16,17.9148182 C16,18.7432453 15.3284271,19.4148182 14.5,19.4148182 L9.5,19.4148182 C8.67157288,19.4148182 8,18.7432453 8,17.9148182 Z"
                                                                                    fill="#000000" fill-rule="nonzero"
                                                                                    transform="translate(12.000000, 10.707409) rotate(-135.000000) translate(-12.000000, -10.707409) " />
                                                                                <rect fill="#000000" opacity="0.3" x="5"
                                                                                    y="20" width="15" height="2"
                                                                                    rx="1" />
                                                                            </g>
                                                                        </svg>
                                                                        <!--end::Svg Icon-->
                                                                        Add Date
                                                                    </span>
                                                                </div>
                                                                <div class="text-muted fs-7 fw-light d-sm-inline-block  d-block mt-sm-0 mt-2 ms-4"
                                                                    *ngIf="item.startDate">
                                                                    {{item.startDate | date}} To {{item.endDate |
                                                                    date}}
                                                                </div>
                                                                <small
                                                                    class="text-muted fs-7 fw-light d-sm-inline-block ms-sm-2 d-block mt-sm-0 mt-2">
                                                                    ({{taskCount[i]}}
                                                                    {{taskCount[i]>1?'issues':'issue'}} )</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="ms-auto py-3 d-flex sprint-action justify-content-end  2">
                                                    <div class="d-flex align-items-center">
                                                        <span class="badge badge-white rounded  badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="not started">{{taskEstimateCount[i].todo}}</span>
                                                        <span class="badge badge-warning rounded badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="In progress">{{taskEstimateCount[i].inprogress}}</span>
                                                        <span class="badge badge-success rounded  badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="Done">{{taskEstimateCount[i].done}}</span>
                                                    </div>
                                                    <div class="ms-2">
                                                        <button class="btn btn-secondary min-w-125px btn-sm radio"
                                                            [disabled]="true"
                                                            *ngIf="i>1 || item.tasks.length==0">{{item?.sprintStatus
                                                            |
                                                            titlecase}}
                                                            sprint</button>
                                                        <button (click)="startSprint(item.sprintStatus,item)"
                                                            class="btn btn-primary min-w-125px btn-sm radio px-3"
                                                            [disabled]="false" data-bs-toggle="modal"
                                                            data-bs-target="#kt_modal_1"
                                                            *ngIf="i<=1 && item.tasks.length>0 && item?.sprintStatus=='start'">{{item?.sprintStatus
                                                            |
                                                            titlecase}}
                                                            sprint</button>
                                                        <button (click)="startSprint(item.sprintStatus,item,complete)"
                                                            class="btn btn-primary min-w-125px btn-sm radio px-3"
                                                            *ngIf="i<=1 && item.tasks.length>0 && item?.sprintStatus=='complete'">{{item?.sprintStatus
                                                            |
                                                            titlecase}}
                                                            sprint</button>
                                                    </div>
                                                    <div class="ms-2">
                                                        <div class="row">
                                                            <div class="col">
                                                                <div ngbDropdown class="d-inline-block"
                                                                    container="body">
                                                                    <button
                                                                        class="btn btn-sm btn-icon btn-bg-secondary btn-active-color-primary menu-dropdown"
                                                                        id="dropdownBasic1" ngbDropdownToggle>
                                                                        <span class="svg-icon svg-icon-5 m-0">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none">
                                                                                <rect x="10" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="17" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="3" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                            </svg>
                                                                        </span>
                                                                    </button>
                                                                    <div class="menu menu-sub menu-sub-dropdown 
                                                                        menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary
                                                                          fw-bold fs-7 w-150px py-4" ngbDropdownMenu
                                                                        aria-labelledby="dropdownBasic1">
                                                                        <div class="menu-item px-1">
                                                                            <a class="menu-link px-3" ngbDropdownItem
                                                                                data-bs-toggle="modal"
                                                                                data-bs-target="#kt_modal_1"
                                                                                (click)="openSprintModel(item)"
                                                                                ngbDropDownItem>Edit Sprint</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a class="menu-link px-3" ngbDropdownItem
                                                                                data-bs-toggle="modal"
                                                                                data-bs-target="#delete_sprint"
                                                                                (click)="openDeleteModel(item)"
                                                                                ngbDropDownItem>Delete
                                                                                Sprint</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!--end::Header-->
                                    <!--begin::Body-->
                                    <div id="sprint_item_{{item?._id}}" class="fs-6 collapse"
                                        [attr.data-bs-parent]="'#sprint_'+item._id">
                                        <div class="border-0  pb-4 text-truncate w-100 text-muted sprint-detail">
                                            <!-- {{item?.sprintGoal |slice:0:20}}{{item?.sprintGoal?'...':''}} -->
                                            {{item?.sprintGoal}}
                                        </div>
                                        <div cdkDropList class="w-100 draglist" (cdkDropListDropped)="drop($event)"
                                            id="{{item._id}}">
                                            <div *ngIf="item.tasks.length==0"
                                                class="h2 text-secondary d-flex justify-content-center py-4 drag-text">
                                                Drag Here
                                            </div>
                                            <div class="drag" id="{{item2?._id}}" [cdkDragData]="item?.tasks"
                                                *ngFor="let item2 of item.tasks" cdkDrag>
                                                <div class="cursor-pointer"
                                                    *ngIf="(item2.issueType==filter.issueType || filter.issueType =='') && (item2?.summary?.indexOf(isSearch)>-1)">
                                                    <div class="d-sm-flex  bg-white p-3 border-bottom list">
                                                        <div class="d-flex align-items-center backlog-task"
                                                            (click)="openTaskModel(item2._id)">
                                                            <img [src]="'../../../../assets/img/'+issueImage?.[item2.issueType]"
                                                                class="img-fluid" alt="img">
                                                            <h6 class="fs-7 fw-normal text-muted mx-3 mb-0 min-w-40px">
                                                                <del #del
                                                                    *ngIf="item2?.listID?.listName=='done'">{{project?.key}}-{{item2?.SN}}</del>
                                                                <span #notDel
                                                                    *ngIf="item2?.listID?.listName!='done'">{{project?.key}}-{{item2?.SN}}</span>
                                                            </h6>
                                                            <h6 class="fs-7 mb-0 fw-normal text-truncate">
                                                                {{item2?.summary}}</h6>
                                                            <!-- <span
                                                                class="badge badge-light-info ms-3 fw-nomal fs-9 text-uppercase rounded-1">Redesign
                                                                the full website</span> -->

                                                        </div>
                                                        <div class="ms-auto d-flex align-items-center justify-content-end"
                                                            (mouseout)="my.close()">
                                                            <div class="d-flex align-items-center min-w-50px backlog-task-detail justify-content-end small">
                                                                {{item2?.storyPointEstimate}}
                                                                {{item2?.storyPointEstimate?'H':''}}
                                                            </div>
                                                            <div class="row mx-1">
                                                                <div class="col">
                                                                    <div ngbDropdown class="d-inline-block"
                                                                        container="body">
                                                                        <button
                                                                            class="btn btn badge badge-light-primary rounded-2 px-2 menu-gray-600 menu-dropdown rounded-1"
                                                                            id="dropdownBasic1"
                                                                            ngbDropdownToggle>{{item2?.listID?.listName
                                                                            |
                                                                            titlecase}}</button>
                                                                        <div ngbDropdownMenu
                                                                            aria-labelledby="dropdownBasic1">
                                                                            <button ngbDropdownItem
                                                                                *ngFor="let listItem of list"
                                                                                (click)="selectList(item2,listItem)">{{listItem?.listName
                                                                                | titlecase}}</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="w-30px">
                                                                <i class="bi bi-flag-fill" style="color: red;"
                                                                    *ngIf="item2?.flag"></i>
                                                            </div>
                                                            <div class="w-30px h-30px d-flex align-items-center"
                                                                ngbDropdown #my="ngbDropdown" container="body"
                                                                placement="bottom-right">
                                                                <div *ngIf="item2?.assigneeID " tabindex="0"
                                                                    ngbDropdownToggle id="navbarDropdown2"
                                                                    (mouseover)="my.open()" ngbDropdownAnchor
                                                                    class="user-profile rounded-circle me-2 bg-warning w-20px h-20px d-flex align-items-center justify-content-center fs-7">
                                                                    <img [src]="baseUrl+item2?.assigneeID?.avatar"
                                                                        class="img-fluid rounded-circle" alt="user">
                                                                </div>
                                                                <div (mouseover)="my.open()" (mouseout)="my.close()"
                                                                    class="user-brief-description shadow rounded dropdown-menu dropdown-menu-end"
                                                                    ngbDropdownMenu aria-labelledby="navbarDropdown2">
                                                                    <div class="card-header border-bottom-0 p-5">
                                                                        <div class="d-flex w-100">
                                                                            <div class="d-flex">
                                                                                <div [ngStyle]="{'background-color': stringToHslColor(item2?.assigneeID?.fullName)}"
                                                                                    class="profile-img rounded-circle me-4  w-80px h-80px d-flex align-items-center justify-content-center text-white fs-2 me-3 text-uppercase">
                                                                                    {{item2?.assigneeID?.fullName[0]}}{{item2?.assigneeID?.fullName?.split('
                                                                                    ')[1]?.[0]}}
                                                                                </div>
                                                                                <div class="">
                                                                                    <h4 class="text-capitalize">
                                                                                        {{item2?.assigneeID?.fullName}}
                                                                                    </h4>
                                                                                    <p class="fw-normal mb-2">
                                                                                        Project Manager
                                                                                    </p>
                                                                                    <div class="d-flex mb-6">
                                                                                        <div class="icon-img me-2">
                                                                                            <span
                                                                                                class="svg-icon svg-icon-dark svg-icon-1">
                                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                                                    width="24px"
                                                                                                    height="24px"
                                                                                                    viewBox="0 0 24 24"
                                                                                                    version="1.1">
                                                                                                    <g stroke="none"
                                                                                                        stroke-width="1"
                                                                                                        fill="none"
                                                                                                        fill-rule="evenodd">
                                                                                                        <rect x="0"
                                                                                                            y="0"
                                                                                                            width="24"
                                                                                                            height="24">
                                                                                                        </rect>
                                                                                                        <path
                                                                                                            d="M5,6 L19,6 C20.1045695,6 21,6.8954305 21,8 L21,17 C21,18.1045695 20.1045695,19 19,19 L5,19 C3.8954305,19 3,18.1045695 3,17 L3,8 C3,6.8954305 3.8954305,6 5,6 Z M18.1444251,7.83964668 L12,11.1481833 L5.85557487,7.83964668 C5.4908718,7.6432681 5.03602525,7.77972206 4.83964668,8.14442513 C4.6432681,8.5091282 4.77972206,8.96397475 5.14442513,9.16035332 L11.6444251,12.6603533 C11.8664074,12.7798822 12.1335926,12.7798822 12.3555749,12.6603533 L18.8555749,9.16035332 C19.2202779,8.96397475 19.3567319,8.5091282 19.1603533,8.14442513 C18.9639747,7.77972206 18.5091282,7.6432681 18.1444251,7.83964668 Z"
                                                                                                            fill="#000000">
                                                                                                        </path>
                                                                                                    </g>
                                                                                                </svg>
                                                                                            </span>
                                                                                        </div>
                                                                                        <div class="user-email ">
                                                                                            {{item2?.assigneeID?.email}}
                                                                                        </div>
                                                                                    </div>
                                                                                    <a [routerLink]="['/'+organisation+'/my-profile/'+item2?.assigneeID?._id]"
                                                                                        class="btn btn-secondary btn-sm">View
                                                                                        profile</a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="w-20px h-20px d-flex align-items-center justify-content-center fs-7">
                                                                <div ngbDropdown class="delete-task" container="body">
                                                                    <span ngbDropdownToggle
                                                                        class="badge badge-secondary px-2 menu-dropdown">
                                                                        <!--begin::Svg Icon | path: icons/duotune/general/gen052.svg-->
                                                                        <span class="svg-icon svg-icon-5 m-0">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none">
                                                                                <rect x="10" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="17" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="3" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                            </svg>
                                                                        </span>
                                                                        <!--end::Svg Icon-->
                                                                    </span>
                                                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-150px py-4"
                                                                        ngbDropdownMenu>
                                                                        <p class="px-4 cursor-default">Action</p>
                                                                        <div class="separator"></div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="openDeleteTaskModal(deleteTaskModal,item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>Delete</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="flag(item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>{{!item2?.flag?'Add':'Remove'}}
                                                                                flag</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="cloneTask(item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>clone</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="generateTaskUrl(item2,shareIssue)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>Share</a>
                                                                        </div>
                                                                        <!--end::Menu item-->
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="divider drag-drop-div d-flex justify-content-center text-muted"
                                                id="divider" cdkDrag cdkDragLockAxis="y">
                                                <div class="row text-center">
                                                    <span><i
                                                            class="bi bi-arrow-bar-down cursor-pointer fs-3"></i></span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div>
                                        <div id="sprint_item_{{item?._id}}" class="fs-6 collapse"
                                            [attr.data-bs-parent]="'#sprint_'+item._id">
                                            <table class="w-100">
                                                <tr>
                                                    <td>
                                                        <div
                                                            class="py-3 fw-bold px-5 bg-white card-rounded-bottom  mb-4">
                                                            <div class="create-issue-sec">
                                                                <a class="w-100 add-input-click">
                                                                    <span class="svg-icon svg-icon-primary svg-icon-4">
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                            width="24px" height="24px"
                                                                            viewBox="0 0 24 24" version="1.1">
                                                                            <g stroke="none" stroke-width="1"
                                                                                fill="none" fill-rule="evenodd">
                                                                                <rect fill="#000000" x="4" y="11"
                                                                                    width="16" height="2" rx="1" />
                                                                                <rect fill="#000000" opacity="0.3"
                                                                                    transform="translate(12.000000, 12.000000) rotate(-270.000000) translate(-12.000000, -12.000000) "
                                                                                    x="4" y="11" width="16" height="2"
                                                                                    rx="1" />
                                                                            </g>
                                                                        </svg>
                                                                        Create issue
                                                                    </span>
                                                                </a>
                                                                <div class="add-input w-100 mt-4">
                                                                    <div class="input-group" id="basic-addon2"
                                                                        data-kt-menu-placement="bottom-end" ngbDropdown
                                                                        container="body">
                                                                        <div class="h-40px input-group-text cursor-pointer rounded-end-0 border-end-0 
                                                                            " ngbDropdownToggle>
                                                                            <div class="menu-dropdown">
                                                                                <!--begin::Svg Icon | path: icons/duotune/general/gen052.svg-->
                                                                                <img [src]="'../../../../assets/img/'+issueImage?.[payload.issueType]"
                                                                                    alt="img" class="img-fluid">
                                                                                <!--end::Svg Icon-->
                                                                            </div>
                                                                            <!-- begin::Menu -->
                                                                            <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 w-100px menu-state-bg-light-primary fw-bold fs-7 py-4"
                                                                                data-kt-menu="true"
                                                                                data-popper-placement="bottom-end"
                                                                                ngbDropdownMenu>
                                                                                <!-- begin::Menu item -->
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('story')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Story
                                                                                    </a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('task')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Task</a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('bug')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Bug</a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('epic')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Epic</a>
                                                                                </div>
                                                                                <!-- end::Menu item -->
                                                                            </div>
                                                                        </div>
                                                                        <input type="text"
                                                                            class="h-40px fs-7 form-control"
                                                                            placeholder="What need to done"
                                                                            aria-label="Username"
                                                                            aria-describedby="basic-addon1"
                                                                            (keyup.enter)="addIssue($event,item._id)">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--end::Body-->
                                </div>
                                <!--end::Item-->
                            </div>
                        </div>
                        <!--begin::Accordion-->
                        <div *ngFor="let item of sprint;index as i" #backlog>
                            <div class="accordion accordion-icon-toggle bg-light rounded px-4 
                                    " id="sprint_{{item._id}}" *ngIf="item.sprintName=='backlog'">
                                <!--begin::Item-->
                                <div class="mb-5">
                                    <!--begin::Header-->
                                    <div class="dragOverr drag-header" cdkDropList
                                        (cdkDropListDropped)="dropOver($event)" id="{{item._id}}">
                                        <div class="accordion-header  d-flex align-items-center">
                                            <div class="d-flex flex-wrap w-100 align-items-center drag-drop-header">
                                                <div class="sprint-action-detail" data-bs-toggle="collapse"
                                                    [attr.data-bs-target]="'#sprint_item_' + item._id">
                                                    <div class="d-flex align-items-md-center py-3">
                                                        <span class="accordionicon">
                                                            <span class="svg-icon svg-icon-5 svg-icon-dark">
                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                    width="24px" height="24px" viewBox="0 0 24 24"
                                                                    version="1.1">
                                                                    <g stroke="none" stroke-width="1" fill="none"
                                                                        fill-rule="evenodd">
                                                                        <polygon points="0 0 24 0 24 24 0 24" />
                                                                        <path
                                                                            d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                                            fill="#000000" fill-rule="nonzero"
                                                                            transform="translate(12.000003, 11.999999) scale(-1, 1) rotate(-270.000000) translate(-12.000003, -11.999999) " />
                                                                    </g>
                                                                </svg>
                                                                <!--end::Svg Icon-->
                                                            </span>
                                                        </span>
                                                        <h3 class="fs-6 fw-bold mb-0 ms-2">
                                                            <span class=" text-truncate">Backlog
                                                            </span><small
                                                                class="text-muted  fs-7 fw-light d-sm-inline-block ms-sm-2 d-block mt-sm-0 mt-2">
                                                                {{project?.createdAt | date}} ( {{taskCount[i]}}
                                                                {{taskCount[i]>1?'issues':'issue'}} )</small>
                                                        </h3>
                                                    </div>
                                                </div>
                                                <div class="ms-auto py-3 d-flex sprint-action justify-content-end 3">
                                                    <div class="d-flex align-items-center">
                                                        <span class="badge badge-white rounded  badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="not started">{{taskEstimateCount[i].todo}}</span>
                                                        <span class="badge badge-warning rounded badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="In progress">{{taskEstimateCount[i].inprogress}}</span>
                                                        <span class="badge badge-success rounded  badge-square mx-1"
                                                            data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                            title="Done">{{taskEstimateCount[i].done}}</span>
                                                    </div>
                                                    <div class="ms-2">
                                                        <button (click)="addSprint()"
                                                            class="btn btn-secondary min-w-125px btn-sm"
                                                            id="create-sprint">Create
                                                            sprint</button>
                                                    </div>
                                                    <div class="ms-1 w-35px">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Header-->
                                    <!--begin::Body-->
                                    <div id="sprint_item_{{item._id}}" class=" fs-6 collapse"
                                        [attr.data-bs-parent]="'#sprint_'+item?._id">
                                        <div cdkDropList class="w-100 draglist" (cdkDropListDropped)="drop($event)"
                                            id="{{item._id}}">
                                            <div *ngIf="item.tasks.length==0"
                                                class="h2 text-secondary d-flex justify-content-center py-4 drag-text">
                                                Drag Here
                                            </div>
                                            <div class="drag" id="{{item2._id}}" [cdkDragData]="item?.tasks"
                                                *ngFor="let item2 of item.tasks" cdkDrag>
                                                <div class="cursor-pointer list"
                                                    *ngIf="(item2?.issueType==filter?.issueType || filter?.issueType =='') && (item2?.summary?.indexOf(isSearch)>-1)">
                                                    <div class="d-flex  bg-white p-3 border-bottom">
                                                        <div class="d-flex align-items-center  backlog-task"
                                                            (click)="openTaskModel(item2._id)">
                                                            <img [src]="'../../../../assets/img/'+issueImage?.[item2.issueType]"
                                                                class="img-fluid" alt="img">
                                                            <h6 class="fs-7 fw-normal text-muted mx-3 mb-0 min-w-40px">
                                                                <del #del
                                                                    *ngIf="item2?.listID?.listName=='done'">{{project?.key}}-{{item2?.SN}}</del>
                                                                <span #notDel
                                                                    *ngIf="item2?.listID?.listName!='done'">{{project?.key}}-{{item2?.SN}}</span>
                                                            </h6>
                                                            <h6 class="fs-7 mb-0 fw-normal text-truncate">
                                                                {{item2?.summary}}</h6>
                                                            <!-- <span
                                                                class="badge badge-light-info ms-3 fw-nomal fs-9 text-uppercase rounded-1">Redesign
                                                                the full website</span> -->


                                                        </div>
                                                        <div class="ms-auto d-flex align-items-center justify-content-end"
                                                            (mouseout)="my.close()">
                                                            <div class="d-flex align-items-center min-w-50px backlog-task-detail justify-content-end small">
                                                                {{item2?.storyPointEstimate}}
                                                                {{item2?.storyPointEstimate?'H':''}}
                                                            </div>
                                                            <div class="row mx-1">
                                                                <div class="col">
                                                                    <div ngbDropdown class="d-inline-block"
                                                                        container="body">
                                                                        <button
                                                                            class="btn btn badge badge-light-primary rounded-2 px-2 menu-gray-600 menu-dropdown rounded-1"
                                                                            id="dropdownBasic1"
                                                                            ngbDropdownToggle>{{item2?.listID?.listName
                                                                            |
                                                                            titlecase}}</button>
                                                                        <div ngbDropdownMenu
                                                                            aria-labelledby="dropdownBasic1">
                                                                            <button ngbDropdownItem
                                                                                *ngFor="let listItem of list"
                                                                                (click)="selectList(item2,listItem)">{{listItem?.listName
                                                                                | titlecase}}</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="w-30px">
                                                                <i class="bi bi-flag-fill" style="color: red;"
                                                                    *ngIf="item2?.flag"></i>
                                                            </div>
                                                            <div class="w-30px h-30px d-flex align-items-center"
                                                                ngbDropdown #my="ngbDropdown" container="body"
                                                                placement="bottom-right">
                                                                <div *ngIf="item2?.assigneeID " tabindex="0"
                                                                    ngbDropdownToggle id="navbarDropdown2"
                                                                    (mouseover)="my.open()" ngbDropdownAnchor
                                                                    class="user-profile rounded-circle me-2 bg-warning w-20px h-20px d-flex align-items-center justify-content-center fs-7">
                                                                    <img [src]="baseUrl+item2?.assigneeID?.avatar"
                                                                        class="img-fluid rounded-circle" alt="user">
                                                                </div>
                                                                <div (mouseover)="my.open()" (mouseout)="my.close()"
                                                                    class="user-brief-description shadow rounded dropdown-menu dropdown-menu-end"
                                                                    ngbDropdownMenu aria-labelledby="navbarDropdown2">
                                                                    <div class="card-header border-bottom-0 p-5">
                                                                        <div class="d-flex w-100">
                                                                            <div class="d-flex">
                                                                                <div [ngStyle]="{'background-color': stringToHslColor(item2?.assigneeID?.fullName)}"
                                                                                    class="profile-img rounded-circle me-4  w-80px h-80px d-flex align-items-center justify-content-center text-white fs-2 me-3 text-uppercase">
                                                                                    {{item2?.assigneeID?.fullName[0]}}{{item2?.assigneeID?.fullName?.split('
                                                                                    ')[1]?.[0]}}
                                                                                </div>
                                                                                <div class="">
                                                                                    <h4 class="text-capitalize">
                                                                                        {{item2?.assigneeID?.fullName}}
                                                                                    </h4>
                                                                                    <p class="fw-normal mb-2">
                                                                                        Project Manager
                                                                                    </p>
                                                                                    <div class="d-flex mb-6">
                                                                                        <div class="icon-img me-2">
                                                                                            <span
                                                                                                class="svg-icon svg-icon-dark svg-icon-1">
                                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                                                    width="24px"
                                                                                                    height="24px"
                                                                                                    viewBox="0 0 24 24"
                                                                                                    version="1.1">
                                                                                                    <g stroke="none"
                                                                                                        stroke-width="1"
                                                                                                        fill="none"
                                                                                                        fill-rule="evenodd">
                                                                                                        <rect x="0"
                                                                                                            y="0"
                                                                                                            width="24"
                                                                                                            height="24">
                                                                                                        </rect>
                                                                                                        <path
                                                                                                            d="M5,6 L19,6 C20.1045695,6 21,6.8954305 21,8 L21,17 C21,18.1045695 20.1045695,19 19,19 L5,19 C3.8954305,19 3,18.1045695 3,17 L3,8 C3,6.8954305 3.8954305,6 5,6 Z M18.1444251,7.83964668 L12,11.1481833 L5.85557487,7.83964668 C5.4908718,7.6432681 5.03602525,7.77972206 4.83964668,8.14442513 C4.6432681,8.5091282 4.77972206,8.96397475 5.14442513,9.16035332 L11.6444251,12.6603533 C11.8664074,12.7798822 12.1335926,12.7798822 12.3555749,12.6603533 L18.8555749,9.16035332 C19.2202779,8.96397475 19.3567319,8.5091282 19.1603533,8.14442513 C18.9639747,7.77972206 18.5091282,7.6432681 18.1444251,7.83964668 Z"
                                                                                                            fill="#000000">
                                                                                                        </path>
                                                                                                    </g>
                                                                                                </svg>
                                                                                            </span>
                                                                                        </div>
                                                                                        <div class="user-email ">
                                                                                            {{item2?.assigneeID?.email}}
                                                                                        </div>
                                                                                    </div>
                                                                                    <a [routerLink]="['/'+organisation+'/my-profile/'+item2?.assigneeID?._id]"
                                                                                        class="btn btn-secondary btn-sm">View
                                                                                        profile</a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="w-20px h-20px d-flex align-items-center btn-arrow-none justify-content-center fs-7">
                                                                <div ngbDropdown class="delete-task" container="body">
                                                                    <span ngbDropdownToggle
                                                                        class="badge badge-secondary px-2 menu-dropdown">
                                                                        <!--begin::Svg Icon | path: icons/duotune/general/gen052.svg-->
                                                                        <span class="svg-icon svg-icon-5 m-0">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none">
                                                                                <rect x="10" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="17" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                                <rect x="3" y="10" width="4" height="4"
                                                                                    rx="2" fill="black">
                                                                                </rect>
                                                                            </svg>
                                                                        </span>
                                                                        <!--end::Svg Icon-->
                                                                    </span>
                                                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-150px py-4"
                                                                        ngbDropdownMenu>
                                                                        <p class="px-4 cursor-default">Action</p>
                                                                        <div class="separator"></div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="openDeleteTaskModal(deleteTaskModal,item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>Delete</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="flag(item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>{{!item2?.flag?'Add':'Remove'}}
                                                                                flag</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="cloneTask(item2)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>clone</a>
                                                                        </div>
                                                                        <div class="menu-item px-1">
                                                                            <a (click)="shareTask(shareIssue)"
                                                                                class="menu-link px-3"
                                                                                ngbDropdownItem>Share</a>
                                                                        </div>
                                                                        <!--end::Menu item-->
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div id="sprint_item_{{item._id}}" class=" fs-6 collapse"
                                            [attr.data-bs-parent]="'#sprint_'+item._id">
                                            <table class="w-100">
                                                <tr>
                                                    <td>
                                                        <div
                                                            class="py-3 fw-bold px-5 bg-white card-rounded-bottom  mb-4">
                                                            <div class="create-issue-sec">
                                                                <a class="w-100 add-input-click">
                                                                    <span class="svg-icon svg-icon-primary svg-icon-4"
                                                                    >
                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                            width="24px" height="24px"
                                                                            viewBox="0 0 24 24" version="1.1">
                                                                            <g stroke="none" stroke-width="1"
                                                                                fill="none" fill-rule="evenodd">
                                                                                <rect fill="#000000" x="4" y="11"
                                                                                    width="16" height="2" rx="1" />
                                                                                <rect fill="#000000" opacity="0.3"
                                                                                    transform="translate(12.000000, 12.000000) rotate(-270.000000) translate(-12.000000, -12.000000) "
                                                                                    x="4" y="11" width="16" height="2"
                                                                                    rx="1" />
                                                                            </g>
                                                                        </svg>
                                                                        Create issue
                                                                    </span>
                                                                </a>
                                                                <div class="add-input w-100 mt-4">
                                                                    <div class="input-group" id="basic-addon2"
                                                                        data-kt-menu-placement="bottom-end" ngbDropdown
                                                                        container="body">
                                                                        <div class="h-40px input-group-text cursor-pointer rounded-end-0 border-end-0 "
                                                                            ngbDropdownToggle>
                                                                            <div class="menu-dropdown">
                                                                                <img [src]="'../../../../assets/img/'+issueImage?.[payload.issueType]"
                                                                                    alt="img" class="img-fluid">

                                                                            </div>
                                                                            <!-- begin::Menu -->
                                                                            <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 w-100px menu-state-bg-light-primary fw-bold fs-7 py-4"
                                                                                data-kt-menu="true"
                                                                                data-popper-placement="bottom-end"
                                                                                ngbDropdownMenu>
                                                                                <!-- begin::Menu item -->
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('story')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Story
                                                                                    </a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('task')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Task</a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('bug')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Bug</a>
                                                                                </div>
                                                                                <div class="menu-item">
                                                                                    <a (click)="selectIssueType('epic')"
                                                                                        class="menu-link"
                                                                                        ngbDropdownItem>Epic</a>
                                                                                </div>
                                                                                <!-- end::Menu item -->
                                                                            </div>
                                                                        </div>
                                                                        <input type="text"
                                                                            class="h-40px fs-7 form-control"
                                                                            placeholder="What need to done"
                                                                            aria-label="Username"
                                                                            aria-describedby="basic-addon1"
                                                                            (keyup.enter)="addIssue($event,item._id)">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Item-->
                            </div>
                        </div>
                    </div>
                    <!--end::Accordion-->
                    <!--end::Accordion-->
                </div>
            </div>
        </div>
    </div>
</div>
<!--end::Page-->
<!--end::Root-->

<div class="modal fade" tabindex="-1" id="delete_sprint">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header py-3">
                <h4 class="modal-title mb-0">Delete Sprint</h4>
                <!--begin::Close-->
                <div class="btn btn-icon btn-sm btn-light" data-bs-dismiss="modal">
                    <span class="svg-icon svg-icon-primary">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                            height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g transform="translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"
                                    fill="#000000">
                                    <rect x="0" y="7" width="16" height="2" rx="1"></rect>
                                    <rect opacity="0.3"
                                        transform="translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) "
                                        x="0" y="7" width="16" height="2" rx="1"></rect>
                                </g>
                            </g>
                        </svg>
                    </span>
                </div>
                <!--end::Close-->
            </div>
            <div class="modal-body">
                Are you sure you want to delete sprint RI {{deleteSprintItem.sprintName}}?
            </div>
            <div class="modal-footer py-3">
                <button type="button" class="btn btn-light btn-sm" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger btn-sm" (click)="deleteSprint(deleteSprintItem._id)"
                    data-bs-dismiss="modal">Delete</button>
            </div>
        </div>
    </div>
</div>


<!-- delete task modal -->
<ng-template #deleteTaskModal let-modal>
    <div class="modal-content">
        <div class="modal-header py-3">
            <h4 class="modal-title mb-0">Delete </h4>
            <!--begin::Close-->
            <div class="btn btn-icon btn-sm btn-light" (click)="modal.dismiss('Cross click')">
                <span class="svg-icon svg-icon-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                        height="24px" viewBox="0 0 24 24" version="1.1">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"
                                fill="#000000">
                                <rect x="0" y="7" width="16" height="2" rx="1"></rect>
                                <rect opacity="0.3"
                                    transform="translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) "
                                    x="0" y="7" width="16" height="2" rx="1"></rect>
                            </g>
                        </g>
                    </svg>
                </span>
            </div>
            <!--end::Close-->
        </div>
        <div class="modal-body">
            Are you sure you want to delete {{project.key |uppercase}}-{{deleteTaskValue.SN}}?
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-light btn-sm" (click)="modal.dismiss('Cross click')">Close</button>
            <button type="button" class="btn btn-danger btn-sm" (click)="deleteTask(deleteTaskModal)">Delete</button>
        </div>
    </div>
</ng-template>

<ng-template #complete let-modal>
    <div class="modal-header px-0 py-3 congo-bg">
        <img src="../../../../assets/img/congratulations.jpg" alt="congratulations" class="img-fluid">
    </div>
    <div class="modal-body">
        <h2 class="modal-title" id="modal-basic-title">Congratulation</h2>
        <h6 class="fw-normal"> You have successfully complete the {{completeSprintData?.sprintName}}</h6>
        <form [formGroup]="selectedSprint" class="pt-5 complete-sprint">
            <div class="mb-3">
                <label for="dateOfBirth">Select sprint for undone tasks</label>
                <div class="input-group">
                    <ng-select formControlName="selectedSprintId" class="py-2  mb-3 w-100 mb-lg-0 fs-7"
                        placeholder="Select sprint" [items]="selectSprintList" addTagText="Add member"
                        [bindLabel]="'sprintName'" [bindValue]="'_id'" [searchable]="true" [clearable]="true">
                    </ng-select>
                    <!-- <button class="btn btn-outline-secondary calendar"  type="button" ></button> -->
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button _ngcontent-ceg-c223="" type="button" data-bs-dismiss="modal" class="btn btn-light btn-sm"
            (click)="modal.dismiss('Cross click')"  placement="bottom" ngbTooltip="close">Cancel</button>
        <button type="button" class="btn btn-primary btn-sm" (click)="completeSprint(selectedSprint)">Save</button>
    </div>
</ng-template>


<ng-template #shareIssue let-modal>
    <!-- <div class="modal-header px-0 py-3 congo-bg">
        <img src="../../../../assets/img/congratulations.jpg" alt="congratulations" class="img-fluid">
    </div> -->
  
        <div class="modal-header py-3" id="modal-basic-title">
            <h5 class="modal-title mb-0">Share</h5>
                     <div class="btn btn-icon btn-sm btn-active-light-primary ms-2">
                         <span  class="svg-icon svg-icon-primary">
                             <svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g _ngcontent-nww-c225="" _ngcontent-wwh-c101="" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g _ngcontent-nww-c225="" _ngcontent-wwh-c101="" transform="translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)" fill="#000000"><rect _ngcontent-nww-c225="" _ngcontent-wwh-c101="" x="0" y="7" width="16" height="2" rx="1"></rect><rect _ngcontent-nww-c225="" _ngcontent-wwh-c101="" opacity="0.3" transform="translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) " x="0" y="7" width="16" height="2" rx="1"></rect></g></g></svg></span></div>
        
                     </div>
        
                        <div class="modal-body">
                            <label>Copy this URL</label>
                            <div class="input-group mb-5">
                                <input type="text" class="form-control fs-7" placeholder="/t3-01/task"
                                aria-describedby="basic-addon2" [value]="url.taskUrl" #copy [disabled]="true">
                                <button class="input-group-text   fs-7 cursor-pointer" id="basic-addon2" (click)="copied()"
                                placement="bottom" ngbTooltip="copy url"
                                [cdkCopyToClipboard]="url?.taskUrl"> <i class="bi bi-clipboard2"></i>
                                </button>
                            </div>
        <!-- <form [formGroup]="selectedSprint" class="pt-5 complete-sprint">
            <div class="mb-3">
                <label for="dateOfBirth">Select sprint for undone tasks</label>
                <div class="input-group">
                    <ng-select formControlName="selectedSprintId" class="py-2  mb-3 w-100 mb-lg-0 fs-7"
                        placeholder="Select sprint" [items]="selectSprintList" addTagText="Add member"
                        [bindLabel]="'sprintName'" [bindValue]="'_id'" [searchable]="true" [clearable]="true">
                    </ng-select>
                </div>
            </div>
        </form> -->
    </div>
    <div class="modal-footer">
        <button _ngcontent-ceg-c223="" type="button" data-bs-dismiss="modal" class="btn btn-light btn-sm"
            (click)="modal.dismiss('Cross click')" placement="bottom" ngbTooltip="close" >close</button>
        <!-- <button type="button" class="btn btn-primary btn-sm" (click)="completeSprint(selectedSprint)">Save</button> -->
    </div>
</ng-template>