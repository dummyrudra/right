
    <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
        <div class="container-fluid">
           <div class="card min-height-inner-content pb-5 px-5 pt-3">
            <nz-result *ngIf="isError" nzStatus="500" nzTitle="500" nzSubTitle="Sorry, there is an error on server.">
               <div nz-result-extra>
                
               </div>
             </nz-result>
              <div *ngIf="!isError" class="card-header border-0 p-0 m-0">
                 <div class="d-xl-flex align-items-center w-100 justify-content-between">
                    <div class="d-flex  mb-4 align-items-center">
                       <h1 class="text-dark mt-1 fs-2">
                         {{key}} Board
                       </h1>
                       <div class="user-profile d-flex ms-6"  >
                       <div class="allusers" *ngFor="let user of users;let i = index">
                       <j-user [user]="user" (click)="changeSelected(user)" [classDetails]="isSelected.includes(user?.member?._id)?'active-profile':''" [class.my_class] = "isSelected[i]== user?.member?._id"></j-user>
                     </div>
                          <!-- <div class="user-profile rounded-circle me-1 bg-warning w-30px h-30px d-flex align-items-center justify-content-center fs-7">
                             <img src="assets/img/g.png" class="img-fluid rounded-circle" alt="user">
                          </div>
                          <div class="user-profile rounded-circle me-1 bg-warning w-30px h-30px d-flex align-items-center justify-content-center fs-7">
                             A
                          </div>
                          <div class="user-profile rounded-circle me-1 bg-info text-white w-30px h-30px d-flex align-items-center justify-content-center fs-9">
                             N
                          </div> -->
                       </div>
                       <div class="add-user ms-3">
                          <div class="user-profile  rounded-circle me-1 bg-secondary text-white w-30px h-30px d-flex align-items-center justify-content-center fs-9 cursor-pointer"  nzTooltipPlacement="bottom" nz-button nz-tooltip nzTooltipTitle="Add people">
                             <div data-bs-toggle="modal" data-bs-target="#add_people">
                                <span class="svg-icon svg-icon-dark svg-icon-3">
                                   <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Communication/Add-user.svg-->
                                   <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                         <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                         <path d="M18,8 L16,8 C15.4477153,8 15,7.55228475 15,7 C15,6.44771525 15.4477153,6 16,6 L18,6 L18,4 C18,3.44771525 18.4477153,3 19,3 C19.5522847,3 20,3.44771525 20,4 L20,6 L22,6 C22.5522847,6 23,6.44771525 23,7 C23,7.55228475 22.5522847,8 22,8 L20,8 L20,10 C20,10.5522847 19.5522847,11 19,11 C18.4477153,11 18,10.5522847 18,10 L18,8 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"></path>
                                         <path d="M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z" fill="#000000" fill-rule="nonzero"></path>
                                      </g>
                                   </svg>
                                   <!--end::Svg Icon-->
                                </span>
                             </div>
                          </div>
                       </div>
                    </div>
                    <div class="d-flex align-items-center mb-4">
                       <div data-kt-search-element="wrapper" >
                          <!-- form -->
                          <form [formGroup]="Form1" data-kt-search-element="form" class="d-flex flex-wrap align-items-center w-100 mb-5 mb-sm-0" autocomplete="off">
                             <!-- search -->
                             <div class="search-custom  position-relative">
                                <!--begin::Hidden input(Added to disable form autocomplete)-->
                                <input type="hidden">
                                <!--end::Hidden input-->
                                <!--begin::Icon-->
                                <!--begin::Svg Icon | path: icons/duotune/general/gen004.svg-->
                                <span class="svg-icon svg-icon-2 svg-icon-gray-700 position-absolute top-50 translate-middle-y ms-3">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                      <path d="M21.7 18.9L18.6 15.8C17.9 16.9 16.9 17.9 15.8 18.6L18.9 21.7C19.3 22.1 19.9 22.1 20.3 21.7L21.7 20.3C22.1 19.9 22.1 19.3 21.7 18.9Z" fill="black"></path>
                                      <path opacity="0.3" d="M11 20C6 20 2 16 2 11C2 6 6 2 11 2C16 2 20 6 20 11C20 16 16 20 11 20ZM11 4C7.1 4 4 7.1 4 11C4 14.9 7.1 18 11 18C14.9 18 18 14.9 18 11C18 7.1 14.9 4 11 4ZM8 11C8 9.3 9.3 8 11 8C11.6 8 12 7.6 12 7C12 6.4 11.6 6 11 6C8.2 6 6 8.2 6 11C6 11.6 6.4 12 7 12C7.6 12 8 11.6 8 11Z" fill="black"></path>
                                   </svg>
                                </span>
                                <!--end::Svg Icon-->
                                <!--end::Icon-->
                                <!--begin::Input-->
                                <input type="text" formControlName="searchItem" class="form-control w-200px form-control-solid ps-11 fs-7 form-control-lg"   placeholder="Search" data-kt-search-element="input">
                                <!--end::Input-->
                                <!--begin::Spinner-->
                                <span class="position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-5" data-kt-search-element="spinner">
                                   <span class="spinner-border h-15px w-15px align-middle text-gray-400"></span>
                                </span>
                                <!--end::Spinner-->
                                <!--begin::Reset-->
                                <span class="btn btn-flush btn-active-color-primary position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-4" data-kt-search-element="clear">
                                   <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                                   <span class="svg-icon svg-icon-2 svg-icon-lg-1 me-0">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                         <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                                         <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                                      </svg>
                                   </span>
                                   <!--end::Svg Icon-->
                                </span>
                                <!--end::Reset-->
                             </div>
                             <!-- search ends -->
                             <!-- group by dropdown -->
                             <div class="bugs-custom ms-sm-4">
                                <button type="button" class="btn btn-light fs-7 px-4 min-w-100px menu-dropdown" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end" data-kt-menu-flip="top-end">
                                   Group By
                                   <span class="svg-icon svg-icon-primary svg-icon mx-0">
                                      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                         <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                            <path d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z" fill="#000000" fill-rule="nonzero" transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) "></path>
                                         </g>
                                      </svg>
                                      <!--end::Svg Icon-->
                                   </span>
                                </button>
                                <!--begin::Menu 2-->
                                <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-md-150px w-125px py-3" data-kt-menu="true" data-popper-placement="bottom-end">
                                   <!--begin::Menu item-->
                                   <div class="menu-item px-3">
                                      <a href="#" class="menu-link px-3"> Subtask</a>
                                   </div>
                                   <div class="menu-item px-3">
                                      <a href="#" class="menu-link px-3">Epic</a>
                                   </div>
                                   <div class="menu-item px-3">
                                      <a href="#" class="menu-link px-3">None</a>
                                   </div>
                                   <div class="menu-item px-3">
                                      <a href="#" class="menu-link px-3">Assignee</a>
                                   </div>
                                </div>
                             </div>
                             <!-- group by dropdown ends -->
                             <!-- epic dropdown -->
                             <div class="epic-custom ms-sm-4 me-2">
                              <div class="form-group m-0">
                                  <div class="row">
                                      <div class="col">
                                          <div ngbDropdown class="d-inline-block">
                                              <button class="btn btn-md btn-light fs-7 px-4 py-3 text-left"
                                                  id="dropdownBasic1" ngbDropdownToggle>Epic
                                                  <small class="pe-3">(Not Implemented)</small>
                                                  <span class="svg-icon svg-icon-dark svg-icon mx-0 float-end">
                                                      <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Navigation/Angle-down.svg-->
                                                      <svg xmlns="http://www.w3.org/2000/svg"
                                                          xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                                                          height="24px" viewBox="0 0 24 24" version="1.1">
                                                          <g stroke="none" stroke-width="1" fill="none"
                                                              fill-rule="evenodd">
                                                              <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                                              <path
                                                                  d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z"
                                                                  fill="#000000" fill-rule="nonzero"
                                                                  transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) ">
                                                              </path>
                                                          </g>
                                                      </svg>
                                                      <!--end::Svg Icon-->
                                                  </span>
                                              </button>
                                              <div ngbDropdownMenu aria-labelledby="dropdownBasic1"
                                                  class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px pt-3">
                                                  <div class="menu-item px-2">
                                                      <a class="menu-link px-3"><label class="checkbox ">
                                                              <input type="checkbox" name="Checkboxes3">
                                                              <span
                                                                  class="w-15px h-15px mt-1 me-2 rounded-1"></span>Issue
                                                              without Epic</label></a>
                                                  </div>
                                                  <div class="menu-item px-2">
                                                      <a class="menu-link px-3"><label class="checkbox">
                                                              <input type="checkbox" name="Checkboxes3">
                                                              <span
                                                                  class="w-15px h-15px mt-1 me-2 rounded-1"></span>Redesign</label>
                                                      </a>
                                                  </div>
                                                  <div class="menu-item px-2">
                                                      <a class="menu-link px-3"><label class="checkbox">
                                                              <input type="checkbox" name="Checkboxes3">
                                                              <span
                                                                  class="w-15px h-15px mt-1 me-2 rounded-1"></span>Banner
                                                              design</label></a>
                                                  </div>
                                                  <!-- <div class="menu-item px-2  mt-3 border-top epic-toggle">
                                                      <mat-slide-toggle class="menu-link pt-7 pb-5 my-3  px-3 "
                                                          [(ngModel)]="isOpenEpicPanel">Epic pannel
                                                      </mat-slide-toggle>
                                                  </div> -->
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                             <!-- epic dropdown ends -->
                             <div class="d-flex align-items-center py-1 ms-sm-4">
                                <!--begin::Button-->
                                <button  class="btn fs-7 btn-secondary btn-md py-3" (click)="clearFilter()" >Clear Filter</button>
                                <!--end::Button-->
                             </div>
                          </form>
                          <!-- form ends -->
                          <!--end::Form-->
                       </div>
                       <!--end::Wrapper-->
                    </div>
                 </div>
              </div>
              <div class="separator mt-2"></div>
              <div class="card-body  max-height-inner-content p-0 mt-8" >
               <nz-spin  nzTip="Loading..." [nzSpinning]="isSpinning">
               <div *ngIf="board.length>0">
               <app-board-dnd [Labels]="Label" [board]="board" (EditLabel)="EditLabel()" [Key]="key" (DeleteTask)="DeleteTask()" (AddList1)="AddList1($event)"  (AddList)="AddList($event)" (parentFunction)="parentFunction($event)"></app-board-dnd>
            </div>  
            <div *ngIf="board.length<1 && !isSpinning && !isError" class="text-center">
  <h5 class="text-center">No Data Found</h5>
            </div>
            </nz-spin>
                   
                 <!-- <div class="overflow-auto">
                       <div class="d-flex"> 
                        <div class="card-pannel"  *ngFor="let column of board.columns" >
                            <div class="pe-3 w-250px pe-3 w-250px h-100" >
                               <div class="card bg-light p-2" >
                                  <div class="rounded-1 card-body  px-2 py-2" >
                                     <h5 class=" fs-7 semi-bold my-0 fw-normal" > {{ column.name }}</h5>
                                  </div>
                               </div>
                               <div class="bg-light rounded p-2 mt-5 task-detail-cards" >
                                  <div
                                  cdkDropList
                                  
                                  [cdkDropListData]="column.tasks"
                                 
                                  class="example-list"
                                  (cdkDropListDropped)="drop($event)">
                                  <div class="example-box" *ngFor="let item of column.tasks" cdkDrag>
      
                                      <div id="drag-3" class="bg-white rounded-1 bg-hover-secondary mb-2 p-3" data-bs-toggle="modal" data-bs-target="#card_modal_1" draggable="true" ondragstart="drag(event)" >
                                          <div class="d-flex">
                                             <h6 class="fs-7 mb-0 fw-normal text-truncate">{{item}}</h6>
                                          </div>
                                          <span class="badge badge-light-info mt-3 fw-nomal fs-9 text-uppercase rounded-1">Redesign the full website</span>
                                          <div class="d-flex w-100 align-items-center mt-3">
                                             <div class="d-flex align-items-center">
                                                <img src="assets/img/a.svg" class="img-fluid" alt="img">
                                                <h6 class="fs-7 fw-normal text-muted mx-3 mb-0">R1-13</h6>
                                             </div>
                                             <div class="user-profile rounded-circle ms-auto bg-warning w-20px h-20px d-flex align-items-center justify-content-center fs-9">
                                                AK
                                             </div>
                                          </div>
                                       </div> 
                                  </div>
                                </div>
                              
                                
                               </div>
                            </div>
                         </div>
                       </div>
                       
                      </div> -->
                     
                      </div>
                 </div>
              </div>
              <!--end::Content-->
           </div>
       
     
    <!-- <app-create-board-issue></app-create-board-issue> -->
    
     <app-board-modal></app-board-modal>
     
     
    <app-add-people-modal [pId]="pId" (addMemberEvent)="addMemberEvent()"></app-add-people-modal>