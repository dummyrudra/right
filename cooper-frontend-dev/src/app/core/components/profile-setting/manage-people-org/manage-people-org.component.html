<button class="accordion-button border-0 collapsed rounded btn nav-link py-4 px-5  d-md-none" type="button"
    data-bs-toggle="collapse" data-bs-target="#acc-manage-people" aria-expanded="true"
    aria-controls="acc-manage-people">
    <span class="d-flex flex-column align-items-start">
        <span class="fs-5 fw-normal d-flex align-items-center">
            <span class="svg-icon  me-4 svg-icon-1">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                    height="24px" viewBox="0 0 24 24" version="1.1">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <polygon points="0 0 24 0 24 24 0 24" />
                        <path
                            d="M12,11 C9.790861,11 8,9.209139 8,7 C8,4.790861 9.790861,3 12,3 C14.209139,3 16,4.790861 16,7 C16,9.209139 14.209139,11 12,11 Z"
                            fill="#000000" fill-rule="nonzero" opacity="0.3" />
                        <path
                            d="M3.00065168,20.1992055 C3.38825852,15.4265159 7.26191235,13 11.9833413,13 C16.7712164,13 20.7048837,15.2931929 20.9979143,20.2 C21.0095879,20.3954741 20.9979143,21 20.2466999,21 C16.541124,21 11.0347247,21 3.72750223,21 C3.47671215,21 2.97953825,20.45918 3.00065168,20.1992055 Z"
                            fill="#000000" fill-rule="nonzero" />
                    </g>
                </svg>
            </span>
            Manage People
        </span>
    </span>
</button>
<div class="card accordion-body accordion-collapse w-100 p-0 m-0 collapse rounded-0"
    data-bs-parent="#accordion-left-tabs " aria-labelledby="acc-manage-people" id="acc-manage-people">

    <div class="card p-md-9 p-6 mt-5">
        <!--begin::Header-->
        <div class="card-header border-0 px-0">
            <h2 class="text-dark">
                Manage People
            </h2>
        </div>
        <!--begin::Body-->
        <div class="card-body px-0">
            <form [formGroup]="form" autocomplete="off" class="d-sm-flex  mt-lg-0 mt-8">
                <div class="form-group d-flex w-300px align-items-center mb-sm-0 mb-5 me-sm-5 me-0 position-relative">
                    <input type="hidden">
                    <span
                        class="svg-icon svg-icon-2 svg-icon-gray-700 position-absolute top-50 translate-middle-y ms-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path
                                d="M21.7 18.9L18.6 15.8C17.9 16.9 16.9 17.9 15.8 18.6L18.9 21.7C19.3 22.1 19.9 22.1 20.3 21.7L21.7 20.3C22.1 19.9 22.1 19.3 21.7 18.9Z"
                                fill="black"></path>
                            <path opacity="0.3"
                                d="M11 20C6 20 2 16 2 11C2 6 6 2 11 2C16 2 20 6 20 11C20 16 16 20 11 20ZM11 4C7.1 4 4 7.1 4 11C4 14.9 7.1 18 11 18C14.9 18 18 14.9 18 11C18 7.1 14.9 4 11 4ZM8 11C8 9.3 9.3 8 11 8C11.6 8 12 7.6 12 7C12 6.4 11.6 6 11 6C8.2 6 6 8.2 6 11C6 11.6 6.4 12 7 12C7.6 12 8 11.6 8 11Z"
                                fill="black"></path>
                        </svg>
                    </span>
                    <input type="text" formControlName="searchItem"
                        class="form-control form-control-solid px-13 py-3 fs-7 form-control-lg"
                        placeholder="Search by name" data-kt-search-element="input">
                    <span class="position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-5"
                        data-kt-search-element="spinner">
                        <span class="spinner-border h-15px w-15px align-middle text-gray-400"></span>
                    </span>
                    <span
                        class="btn btn-flush btn-active-color-primary position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-4"
                        data-kt-search-element="clear">
                        <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                        <span class="svg-icon svg-icon-2 svg-icon-lg-1 me-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
                                    transform="rotate(-45 6 17.3137)" fill="black"></rect>
                                <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
                                    fill="black"></rect>
                            </svg>
                        </span>
                    </span>
                </div>
                <div class="ms-auto d-flex align-items-center">
                    <div class="form-control p-0 form-control-solid d-flex w-500px ">
                        <div class="invite-email w-400px border-end">
                            <ng-select class="select-red fs-7" placeholder="Invite by email" [addTag]="addTagFn"
                                addTagText="New member" formControlName="members" [items]="tempOrg"
                                [bindLabel]="'email'" [bindValue]="'email'" [searchable]="true" [multiple]="true"
                                [clearable]="true" (change)="changeLeagueOwner($event)"></ng-select>
                            <!-- <input name='basic' value='' id="kt_tagify_1" class="form-control py-1  form-control-solid mb-3 w-100 mb-lg-0 fs-7" placeholder="Invite by email "> -->
                        </div>
                        <div class="position-relative" style="min-width: 200px;">
                            <ng-select class="select-red fs-7" placeholder="Role" formControlName="role"
                                [items]="roles" [bindLabel]="'roleName'" [bindValue]="'_id'" [searchable]="true"
                                [multiple]="false" [clearable]="true" (change)="changeLeagueOwner($event)"></ng-select>
                            <!-- <button type="button" class="btn btn-light rounded-0 text-start rounded w-150px fs-7 px-4 py-3" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end" data-kt-menu-flip="top-end">
                             Member
                             <span class="float-end">
                                <span class="svg-icon svg-icon-primary svg-icon mx-0">
                                   <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                         <polygon points="0 0 24 0 24 24 0 24"></polygon>
                                         <path d="M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z" fill="#000000" fill-rule="nonzero" transform="translate(12.000003, 11.999999) rotate(-180.000000) translate(-12.000003, -11.999999) "></path>
                                      </g>
                                   </svg>
                  
                                </span>
                             </span>
                          </button> -->
                            <!--begin::Menu 2-->
                            <!-- <div class="menu menu-sub menu-sub-dropdown w-100 menu-rounded menu-gray-600 menu-state-bg-light-primary position-absolute fw-bold py-3" data-kt-menu="true" >
                          
                             <div class="menu-item px-3">
                                <a href="#" class="menu-link px-3">  Admin </a>
                             </div>
                             <div class="menu-item px-3">
                                <a href="#" class="menu-link px-3">
                                Member</a>
                             </div>
                          </div> -->
                        </div>
                    </div>
                    <div class="form-group ms-5 create-project-sec mb-0">
                        <!--begin::Button-->
                        <button type="submit" class="btn btn-md fs-7 btn-primary" [disabled]="!form.valid"
                            (click)="submit()">Add</button>
                        <!--end::Button-->
                    </div>
                </div>
            </form>
            <!--begin::Table container-->
            <div class="table-responsive mt-5">
                <!--begin::Table-->
                <nz-spin nzTip="Loading..." [nzSpinning]="loading">
                    <table class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4">
                        <!--begin::Table head-->
                        <thead>
                            <tr class="text-muted">
                                <th class="fs-5 fw-bolder text-dark w-250px" [class.active]="order === 'fullName'"
                                    (click)="setOrder('fullName')"> Name
                                    <!-- <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span> -->
                                </th>
                                <th class=" fs-5 fw-bolder text-dark w-350px">Email</th>
                                <th class=" fs-5 fw-bolder text-dark w-200px">Role</th>
                                <th class=" fs-5 fw-bolder text-dark w-250px">Last Active</th>
                                <!-- <th class=" fs-5 fw-bolder text-dark w-150px">Settings</th> -->
                                <th class=" fs-5 fw-bolder text-dark w-100px">Action</th>
                            </tr>
                        </thead>
                        <!--end::Table head-->
                        <!--begin::Table body-->
                        <!-- | orderBy: order:reverse:caseInsensitive -->
                        <tbody *ngIf="orgUsers?.length>0">
                            
                            <tr *ngFor="let item of orgUsers | paginate: config  ; index as i ">
                                <td>
                                    <div class="d-flex">
                                        <a class="w-100">
                                            <div class="w-100 me-2 d-flex align-items-center" >
                                                <div [ngStyle]="{'background-color': stringToHslColor(item?.fullName)}"
                                                    class="user-profile rounded-circle me-4 text-uppercase w-25px h-25px d-flex align-items-center justify-content-center text-white">
                                                    {{item?.fullName | namePipe:item?.fullName}}
                                                </div>
                                                <h5 [class.bg-warning]="item._id==userId"
                                                    class="text-dark text-hover-primary fw-normal d-block fs-6 text-truncate w-200px mb-0">
                                                    {{item?.fullName }} {{item._id==userId?' (you)':''}}</h5>
                                            </div>
                                        </a>
                                        <div>
                                            <span class="badge"
                                                [ngStyle]="{'background-color': stringToHslColor(item?.role?.roleName)}">{{item?.role?.roleName}}</span>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div
                                        class="text-dark text-hover-primary fw-normal d-block fs-6 text-truncate w-300px mb-0">
                                        {{item?.email}}
                                    </div>

                                </td>
                                <td>{{item?.roles?.roleName}}</td>
                                <td>Jan 20</td>
                                <!-- <td>
                          
                           
                          </td> -->
                                <td>
                                    <div class="btn btn-icon btn-light btn-active-danger w-25px h-25px w-lg-30px h-lg-30px"
                                        (click)="showConfirm(item)" *ngIf="item._id!=userId">
                                        <span _ngcontent-btr-c102=""
                                            class="svg-icon svg-icon-light svg-icon-2 cursor-pointer">
                                            <svg _ngcontent-btr-c102="" xmlns="http://www.w3.org/2000/svg"
                                                xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                                                viewBox="0 0 24 24" version="1.1">
                                                <g _ngcontent-btr-c102="" stroke="none" stroke-width="1" fill="none"
                                                    fill-rule="evenodd">
                                                    <rect _ngcontent-btr-c102="" x="0" y="0" width="24" height="24">
                                                    </rect>
                                                    <path _ngcontent-btr-c102=""
                                                        d="M6,8 L18,8 L17.106535,19.6150447 C17.04642,20.3965405 16.3947578,21 15.6109533,21 L8.38904671,21 C7.60524225,21 6.95358004,20.3965405 6.89346498,19.6150447 L6,8 Z M8,10 L8.45438229,14.0894406 L15.5517885,14.0339036 L16,10 L8,10 Z"
                                                        fill="#000000" fill-rule="nonzero"></path>
                                                    <path _ngcontent-btr-c102=""
                                                        d="M14,4.5 L14,3.5 C14,3.22385763 13.7761424,3 13.5,3 L10.5,3 C10.2238576,3 10,3.22385763 10,3.5 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z"
                                                        fill="#000000" opacity="0.3"></path>
                                                </g>
                                            </svg>
                                        </span>
                                    </div>


                                </td>
                            </tr>


                        </tbody>
                        <tr *ngIf="allMembers && allMembers?.length<1">
                            <div>
                                <span>No Data Found</span>
                            </div>
                        </tr>
                        <!--end::Table body-->
                    </table>
                </nz-spin>
                <!--end::Table-->
            </div>
            <div class="mt-10 mb-5" *ngIf="orgUsers?.length>5">
                <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
            </div>
            <!--end::Table container-->
        </div>
        <!--begin::Body-->

    </div>
</div>